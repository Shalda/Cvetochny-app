{"version":3,"sources":["webpack:///./src/app/admin/admin.component.css","webpack:///./src/app/admin/admin.component.html","webpack:///./src/app/admin/admin.component.ts","webpack:///./src/app/admin/admin.module.ts","webpack:///./src/app/admin/auth.component.css","webpack:///./src/app/admin/auth.component.html","webpack:///./src/app/admin/auth.component.ts","webpack:///./src/app/admin/auth.guard.ts","webpack:///./src/app/admin/login.component.ts","webpack:///./src/app/admin/mime-type.validator.ts","webpack:///./src/app/admin/productEditor.component.css","webpack:///./src/app/admin/productEditor.component.html","webpack:///./src/app/admin/productEditor.component.ts","webpack:///./src/app/admin/productTable.component.css","webpack:///./src/app/admin/productTable.component.html","webpack:///./src/app/admin/productTable.component.ts","webpack:///./src/app/admin/visualEditor.component.css","webpack:///./src/app/admin/visualEditor.component.html","webpack:///./src/app/admin/visualEditor.component.ts","webpack:///./src/app/model/product.model.ts"],"names":[],"mappings":"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","file":"admin-admin-module.js","sourcesContent":["module.exports = \".admin__section {\\r\\n    max-width: 98vw;\\r\\n}\\r\\n\\r\\n.admin__title {\\r\\n    text-align: center;\\r\\n    font-size: 25px;\\r\\n    font-weight: bold;\\r\\n    padding: 25px;\\r\\n}\\r\\n\\r\\n.admin__wrapper {\\r\\n    padding: 20px;\\r\\n    display: flex;\\r\\n    justify-content: flex-start;\\r\\n}\\r\\n\\r\\n.admin__nav {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    margin-right: 40px;\\r\\n}\\r\\n\\r\\n.admin__nav button {\\r\\n    margin-bottom: 16px;\\r\\n}\\r\\n\\r\\n.navbar-brand {\\r\\n    font-family: Roboto, sans-serif, Arial;\\r\\n    font-weight: normal;\\r\\n}\\r\\n\\r\\nbutton[mat-raised-button]{\\r\\n\\r\\n}\\r\\n\\r\\n\"","module.exports = \"<section class=\\\"admin__section\\\"><p>\\r\\n        <div class=\\\"admin__title\\\">\\r\\n            <a class=\\\"navbar-brand\\\">админ панель: {{title}}</a>\\r\\n        </div>\\r\\n    <div class=\\\"admin__wrapper\\\">\\r\\n        <div class=\\\"admin__nav\\\">\\r\\n                <button mat-raised-button\\r\\n                        class=\\\"admin__nav_shopLink\\\"\\r\\n                        routerLink=\\\"/admin/main/products\\\"\\r\\n                        routerLinkActive=\\\"mat-accent\\\" (click)=\\\"titleChange('Магазин')\\\">\\r\\n                    Магазин\\r\\n                </button>\\r\\n                <button mat-raised-button\\r\\n                        class=\\\"admin__nav_visualLink\\\"\\r\\n                        routerLink=\\\"/admin/main/visuals\\\"\\r\\n                        routerLinkActive=\\\"mat-accent\\\" (click)=\\\"titleChange('оформление')\\\">\\r\\n                    Оформление\\r\\n                </button>\\r\\n                <button mat-raised-button color=\\\"warn\\\"\\r\\n                        class=\\\"admin__nav_exitLink\\\" (click)=\\\"logout()\\\">\\r\\n                    Выход\\r\\n                </button>\\r\\n        </div>\\r\\n        <div class=\\\"admin__content\\\">\\r\\n            <router-outlet></router-outlet>\\r\\n        </div>\\r\\n    </div>\\r\\n</section>\"","import {Component, OnInit} from '@angular/core';\r\nimport {AuthService} from '../model/auth.service';\r\nimport {Router} from '@angular/router';\r\n\r\n@Component({\r\n    selector: 'app-admin',\r\n    templateUrl: './admin.component.html',\r\n    styleUrls: ['./admin.component.css']\r\n})\r\nexport class AdminComponent {\r\n    public title = 'Магазин';\r\n\r\n    constructor(private auth: AuthService,\r\n                private router: Router) {\r\n    }\r\n\r\n    public titleChange(text: string): void {\r\n        this.title = text;\r\n    }\r\n\r\n    logout() {\r\n        this.auth.clear();\r\n        this.router.navigateByUrl('/');\r\n    }\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {RouterModule} from '@angular/router';\r\nimport {AuthComponent} from './auth.component';\r\nimport {AdminComponent} from './admin.component';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\nimport {AuthGuard} from './auth.guard';\r\nimport {ProductEditorComponent} from './productEditor.component';\r\nimport {ProductTableComponent} from './productTable.component';\r\nimport {CommonAppModule} from '../common/common-app.module';\r\nimport {VisualEditorComponent} from './visualEditor.component';\r\nimport {\r\n    MatButtonModule, MatCheckboxModule,\r\n    MatFormFieldModule,\r\n    MatIconModule,\r\n    MatInputModule, MatRadioModule,\r\n    MatSelectModule\r\n} from '@angular/material';\r\nimport {SignComponent} from './login.component';\r\n\r\n\r\n\r\nconst routing = RouterModule.forChild([\r\n    {path: 'auth', component: AuthComponent, canActivate: [AuthGuard]},\r\n    /*need to delete*/ {path: 'reg', component: SignComponent},\r\n    {\r\n        path: 'main', component: AdminComponent, canActivate: [AuthGuard],\r\n        children: [\r\n            {path: 'products/:mode/:id', component: ProductEditorComponent},\r\n            {path: 'products/:mode', component: ProductEditorComponent},\r\n            {path: 'products', component: ProductTableComponent},\r\n            {path: 'visuals/:mode/:id', component: VisualEditorComponent},\r\n            {path: 'visuals/:mode', component: VisualEditorComponent},\r\n            {path: 'visuals', component: ProductTableComponent},\r\n            {path: '**', redirectTo: 'products'}\r\n        ]\r\n    },\r\n    {path: '**', redirectTo: 'auth'}\r\n]);\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        routing,\r\n        CommonAppModule,\r\n        MatButtonModule,\r\n        MatFormFieldModule,\r\n        MatIconModule,\r\n        MatInputModule,\r\n        MatSelectModule,\r\n        MatCheckboxModule,\r\n        MatRadioModule\r\n    ],\r\n    providers: [AuthGuard],\r\n    declarations: [\r\n        AuthComponent,\r\n        AdminComponent,\r\n        ProductTableComponent,\r\n        ProductEditorComponent,\r\n        VisualEditorComponent,\r\n        SignComponent]\r\n})\r\nexport class AdminModule {\r\n}\r\n","module.exports = \".auth__section {\\r\\n    margin: 0 auto;\\r\\n    width: 40vw;\\r\\n    text-align: center;\\r\\n\\r\\n}\\r\\n\\r\\n.auth__section h3 {\\r\\n    margin-top: 30px;\\r\\n    font-size: 20px;\\r\\n}\\r\\n\\r\\n.auth__form {\\r\\n    padding: 32px 32px;\\r\\n    /*border-radius: 2px;*/\\r\\n    /*box-shadow: 0 2px 2px rgba(0, 0, 0, .24), 0 0 2px rgba(0, 0, 0, .12);*/\\r\\n    /*background-color: #f0f0f0;*/\\r\\n    color: #4d4d4d;\\r\\n    margin-top: 40px;\\r\\n}\\r\\n\\r\\n.auth__error {\\r\\n    font-family: Roboto, sans-serif, Arial;\\r\\n    margin-top: 20px;\\r\\n    color: rgb(244, 67, 54);;\\r\\n    padding: 10px;\\r\\n    border: 1px solid rgb(244, 67, 54);\\r\\n    border-radius: 2px;\\r\\n    background-color: #dddddd;\\r\\n    font-size: 20px;\\r\\n}\\r\\n\\r\\nmat-form-field {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\nmat-form-field input {\\r\\n    width: 100%;\\r\\n    padding: 6px;\\r\\n}\\r\\n\"","module.exports = \"<section class=\\\"auth__section\\\">\\r\\n    <div class=\\\"auth__title\\\">\\r\\n        <h3>Вход в панель администратора</h3>\\r\\n    </div>\\r\\n    <div class=\\\"auth__error\\\"\\r\\n    *ngIf=\\\"errorMessage != null\\\">\\r\\n    {{errorMessage}}\\r\\n    </div>\\r\\n    <div class=\\\"auth__form\\\">\\r\\n        <form novalidate #form=\\\"ngForm\\\" (ngSubmit)=\\\"authenticate(form)\\\">\\r\\n            <mat-form-field class=\\\"auth_box\\\">\\r\\n                <input  autofocus\\r\\n                        matInput\\r\\n                        placeholder=\\\"Введите имя\\\"\\r\\n                        name=\\\"username\\\"\\r\\n                        [(ngModel)]=\\\"username\\\"\\r\\n                        required>\\r\\n            </mat-form-field>\\r\\n            <mat-form-field class=\\\"auth_box\\\">\\r\\n                <input\\r\\n                        matInput\\r\\n                        name=\\\"password\\\"\\r\\n                        placeholder=\\\"Введите пароль\\\"\\r\\n                        [type]=\\\"hide ? 'password' : 'text'\\\"\\r\\n                        [(ngModel)]=\\\"password\\\" required\\r\\n                >\\r\\n                <button type=\\\"button\\\" mat-icon-button matSuffix (click)=\\\"hide = !hide\\\" [attr.aria-label]=\\\"'Hide password'\\\"\\r\\n                        [attr.aria-pressed]=\\\"hide\\\"\\r\\n\\r\\n                >\\r\\n                    <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>\\r\\n                </button>\\r\\n            </mat-form-field>\\r\\n            <div>\\r\\n                <button #authSub mat-raised-button class=\\\"auth__button\\\" type=\\\"submit\\\">Войти</button>\\r\\n            </div>\\r\\n        </form>\\r\\n    </div>\\r\\n</section>\"","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {Router} from '@angular/router';\r\nimport {NgForm} from '@angular/forms';\r\nimport {AuthService} from '../model/auth.service';\r\nimport {Subscription} from 'rxjs';\r\n\r\n\r\n@Component({\r\n    selector: 'app-auth',\r\n    templateUrl: './auth.component.html',\r\n    styleUrls: ['./auth.component.css']\r\n})\r\nexport class AuthComponent implements OnInit, OnDestroy {\r\n    public username: string;\r\n    public password: string;\r\n    public email: string;\r\n    public errorMessage: string;\r\n    public hide = true;\r\n    private authStatusSub: Subscription;\r\n    public userIsAuthenticated = false;\r\n\r\n    constructor(private _router: Router, private _auth: AuthService) {\r\n    }\r\n\r\n    authenticate(form: NgForm) {\r\n        if (form.valid) {\r\n            this._auth.authenticate(this.username, this.password).subscribe(\r\n                response => {\r\n                    if (this.userIsAuthenticated) {\r\n                        this._router.navigateByUrl('/admin/main');\r\n                    }\r\n                },\r\n                error => {\r\n                    this.errorMessage = 'Ошибка аутентификации, данные неверны!';\r\n                }\r\n                );\r\n        } else {\r\n            this.errorMessage = 'Необходимо заполнить все поля';\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.authStatusSub = this._auth.getAuthStatusListener().subscribe(\r\n            authStatus => {\r\n                this.userIsAuthenticated = authStatus;\r\n            }\r\n        );\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.authStatusSub.unsubscribe();\r\n    }\r\n\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {ActivatedRouteSnapshot, Router, RouterStateSnapshot} from '@angular/router';\r\nimport {AuthService} from '../model/auth.service';\r\n\r\n@Injectable()\r\nexport class AuthGuard {\r\n    constructor(private _router: Router,\r\n                private _auth: AuthService) {\r\n    }\r\n    canActivate(route: ActivatedRouteSnapshot,\r\n                state: RouterStateSnapshot): boolean {\r\n        if (!this._auth.getIsAuth) {\r\n            this._router.navigateByUrl('/admin/auth');\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n}","import {Component, OnInit} from '@angular/core';\r\nimport {Router} from '@angular/router';\r\nimport {NgForm} from '@angular/forms';\r\nimport {AuthService} from '../model/auth.service';\r\n\r\n\r\n@Component({\r\n    selector: 'app-sign',\r\n    template: `<section class=\"auth__section\">\r\n        <div class=\"auth__title\">\r\n            <h3>Регистрация пользователя</h3>\r\n        </div>\r\n        <div class=\"auth__error\"\r\n             *ngIf=\"errorMessage != null\">\r\n            {{errorMessage}}\r\n        </div>\r\n        <div class=\"auth__form\">\r\n            <form novalidate #form=\"ngForm\" (ngSubmit)=\"signin(form)\">\r\n                <mat-form-field class=\"auth_box\">\r\n                    <input  autofocus\r\n                            matInput\r\n                            placeholder=\"Введите email\"\r\n                            name=\"email\"\r\n                            type=\"email\"\r\n                            [(ngModel)]=\"email\"\r\n                            required\r\n                            email\r\n                    >\r\n                </mat-form-field>\r\n                <mat-form-field class=\"auth_box\">\r\n                    <input  matInput\r\n                            placeholder=\"Введите имя\"\r\n                            name=\"username\"\r\n                            [(ngModel)]=\"username\"\r\n                            required>\r\n                </mat-form-field>\r\n                <mat-form-field class=\"auth_box\">\r\n                    <input\r\n                            matInput\r\n                            name=\"password\"\r\n                            placeholder=\"Введите пароль\"\r\n                            [type]=\"hide ? 'password' : 'text'\"\r\n                            [(ngModel)]=\"password\" required\r\n                    >\r\n                    <button type=\"button\" mat-icon-button matSuffix (click)=\"hide = !hide\" [attr.aria-label]=\"'Hide password'\"\r\n                            [attr.aria-pressed]=\"hide\"\r\n\r\n                    >\r\n                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>\r\n                    </button>\r\n                </mat-form-field>\r\n                <div>\r\n                    <button #authSub mat-raised-button class=\"auth__button\" type=\"submit\">Register</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </section>`,\r\n    styleUrls: ['./auth.component.css']\r\n})\r\nexport class SignComponent implements OnInit {\r\n    public username: string;\r\n    public password: string;\r\n    public email: string;\r\n    public errorMessage: string;\r\n    public hide = true;\r\n\r\n    constructor(private _router: Router, private _auth: AuthService) {\r\n    }\r\n\r\n    signin(form: NgForm) {\r\n        if (form.valid) {if (form.invalid) {\r\n            return;\r\n        }\r\n            this._auth.createUser(form.value.email, form.value.username, form.value.password);\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n}\r\n","import {AbstractControl} from '@angular/forms';\r\nimport {Observable, Observer, of} from 'rxjs';\r\n\r\nexport const mimeType = (\r\n    control: AbstractControl\r\n): Promise<{ [key: string]: any }> | Observable<{ [key: string]: any }> => {\r\n    if (typeof(control.value) === 'string') {\r\n        return of(null);\r\n    }\r\n    const file = control.value as File;\r\n    const fileReader = new FileReader();\r\n    const frObs = Observable.create(\r\n        (observer: Observer<{ [key: string]: any }>) => {\r\n            fileReader.addEventListener('loadend', () => {\r\n                const arr = new Uint8Array(fileReader.result as ArrayBuffer).subarray(0, 4);\r\n                let header = '';\r\n                let isValid = false;\r\n                for (let i = 0; i < arr.length; i++) {\r\n                    header += arr[i].toString(16);\r\n                }\r\n                switch (header) {\r\n                    case '89504e47':\r\n                        isValid = true;\r\n                        break;\r\n                    case 'ffd8ffe0':\r\n                    case 'ffd8ffe1':\r\n                    case 'ffd8ffe2':\r\n                    case 'ffd8ffe3':\r\n                    case 'ffd8ffe8':\r\n                    case '47494638':\r\n                        isValid = true;\r\n                        break;\r\n                    default:\r\n                        isValid = false; // Or you can use the blob.type as fallback\r\n                        break;\r\n                }\r\n                if (isValid) {\r\n                    observer.next(null);\r\n                } else {\r\n                    observer.next({invalidMimeType: true});\r\n                }\r\n                observer.complete();\r\n            });\r\n            fileReader.readAsArrayBuffer(file);\r\n        }\r\n    );\r\n    return frObs;\r\n};\r\n","module.exports = \".product-ed_cr-container {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    max-width:720px;\\r\\n}\\r\\n\\r\\n.product-ed_cr-container > * {\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\nmat-form-field {\\r\\n    padding: 1rem 2rem;\\r\\n    margin: 16px 0;\\r\\n    border-radius: 2px;\\r\\n    color: #4d4d4d;\\r\\n    box-shadow: 4px 4px 6px 0 rgba(0, 0, 0, 0.75);\\r\\n    background-color: #dddddd;\\r\\n}\\r\\n\\r\\nmat-radio-button{\\r\\n    color: #ffffff;\\r\\n    margin-right: 16px;\\r\\n}\\r\\n\\r\\ninput:disabled, select:disabled {\\r\\n    background-color: #9c9c9c;\\r\\n}\\r\\n\\r\\n.admin_sub_ex{\\r\\n    background-color: #4d4d4d;\\r\\n}\\r\\n\"","module.exports = \"<div class=\\\"product-ed_cr-container\\\">\\r\\n\\r\\n  <div [class.bg-warning]=\\\"editing\\\"\\r\\n       [class.text-dark]=\\\"editing\\\">\\r\\n    <h5>{{editing ? \\\"Редактировать: \\\" + product.name : \\\"Добавить Товар\\\"}}</h5>\\r\\n  </div>\\r\\n  <form [formGroup]=\\\"form\\\" novalidate (ngSubmit)=\\\"save()\\\" enctype=\\\"multipart/form-data\\\">\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label>Название: </label>\\r\\n      <input class=\\\"form-control\\\" formControlName=\\\"name\\\"\\r\\n             [class.formSub_edit]=\\\"formSubmitted\\\"\\r\\n             (input)=\\\"product.name = $event.target.value\\\"\\r\\n      />\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"!editing\\\">\\r\\n      <label>Родительская категория: {{product.parentCategory}}</label>\\r\\n      <div>Выберите родительскую категорию:</div>\\r\\n      <select class=\\\"form-control\\\"\\r\\n              [formControlName]=\\\"'parentCategory'\\\"\\r\\n              [class.formSub_edit]=\\\"formSubmitted\\\"\\r\\n\\r\\n      >\\r\\n        <option value=\\\"shop\\\"> Магазин\\r\\n        </option>\\r\\n        <option value=\\\"wedding\\\"> Свадебное офромление\\r\\n        </option>\\r\\n      </select>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label>Категория: {{newCat || product.category}}</label>\\r\\n      <div>Выберите существующую категорию или создайте новую:</div>\\r\\n      <select\\r\\n        class=\\\"form-control\\\"\\r\\n        [formControlName]=\\\"'category'\\\"\\r\\n        [class.formSub_edit]=\\\"formSubmitted\\\">\\r\\n        (input)=\\\"product.category = $event.target.value\\\"\\r\\n        <option value=\\\"\\\"></option>\\r\\n        <option [value]=\\\"c\\\" *ngFor=\\\"let c of categories\\\">{{c}}</option>\\r\\n      </select>\\r\\n      <div class=\\\"checkbox_edit_new\\\">\\r\\n        <mat-checkbox (change)=\\\"newCatCheck()\\\">Новая категория</mat-checkbox>\\r\\n      </div>\\r\\n      <div>\\r\\n        <label>создайте категорию:</label>\\r\\n        <input\\r\\n          (input)=\\\"changeProductCategory()\\\"\\r\\n          formControlName=\\\"newCategory\\\"\\r\\n          class=\\\"form-control\\\"\\r\\n        />\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label>Подкатегория:\\r\\n        {{newSubCat || product.subcategory}}</label>\\r\\n      <div>Если нужно выберите существующую подкатегорию или создайте новую:</div>\\r\\n      <select\\r\\n        class=\\\"form-control\\\"\\r\\n        [formControlName]=\\\"'subcategory'\\\">\\r\\n        <option value=\\\"\\\"></option>\\r\\n        <option [value]='s' *ngFor=\\\"let s of subCategories\\\">{{s}}</option>\\r\\n        <option value=''>--без подкатегории--</option>\\r\\n      </select>\\r\\n      <div class=\\\"checkbox_edit_new\\\">\\r\\n        <mat-checkbox (input)=\\\"newSubCatCheck()\\\">Новая подкатегория\\r\\n        </mat-checkbox>\\r\\n      </div>\\r\\n      <div>\\r\\n        <label>создайте подкатегорию:</label>\\r\\n        <input\\r\\n          class=\\\"form-control\\\"\\r\\n          formControlName=\\\"newSubcategory\\\"\\r\\n          (input)=\\\"changeProductSubCategory()\\\"\\r\\n        />\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label>Описание:</label>\\r\\n      <textarea class=\\\"form-control\\\" formControlName=\\\"description\\\"\\r\\n                [class.formSub_edit]=\\\"formSubmitted\\\"\\r\\n      >\\r\\n</textarea>\\r\\n    </div>\\r\\n\\r\\n    <!--<div *ngIf=\\\"form.get('img').valid || imagePreviewCollection.length < 0;\\\">-->\\r\\n    <!--<div class=\\\"image-preview\\\" *ngFor=\\\"let image of imagePreviewCollection, index as i\\\">-->\\r\\n    <!--<img [src]=\\\"image\\\" [alt]=\\\"form.value.name\\\">-->\\r\\n    <!--<i class=\\\"fa fa-remove visual_img__remove\\\"-->\\r\\n    <!--style=\\\"font-size:24px;color:red\\\"-->\\r\\n    <!--(click)=\\\"removeImg(i)\\\"></i>-->\\r\\n    <!--</div>-->\\r\\n    <!--</div>-->\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"label_img_add\\\">{{editing ? \\\"Выберите новое изображение\\\" : \\\"Добавьте изображение\\\"}}:</label>\\r\\n      <button mat-stroked-button type=\\\"button\\\" (click)=\\\"filePicker.click()\\\">Выберите изображение</button>\\r\\n      <input type=\\\"file\\\" #filePicker (change)=\\\"onImagePicked($event)\\\">\\r\\n      <div class=\\\"image-preview\\\" *ngIf=\\\"imagePreview !== '' && imagePreview && form.get('img').valid\\\">\\r\\n        <img [src]=\\\"imagePreview\\\" [alt]=\\\"product.name\\\">\\r\\n        <i class=\\\"fa fa-remove visual_img__remove\\\"\\r\\n           style=\\\"font-size:24px;color:red\\\"\\r\\n           (click)=\\\"removeImg()\\\"></i>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label>Диаметр:</label>\\r\\n      <input class=\\\"form-control\\\" formControlName=\\\"diameter\\\"/>\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label>Цена:</label>\\r\\n      <input class=\\\"form-control\\\" formControlName=\\\"price\\\"\\r\\n             [class.formSub_edit]=\\\"formSubmitted\\\"\\r\\n      />\\r\\n    </div>\\r\\n    <button class=\\\"auth__button_edit  admin_sub_ex\\\" type=\\\"submit\\\"\\r\\n            [disabled]=\\\"formSubmitted && form.invalid\\\"\\r\\n            [class.blocked]=\\\"formSubmitted && form.invalid\\\"\\r\\n    >\\r\\n      {{editing ? \\\"Сохранить\\\" : \\\"Создать\\\"}}\\r\\n    </button>\\r\\n    <button class=\\\"auth__button_edit  admin_sub_ex\\\" type=\\\"reset\\\" routerLink=\\\"/admin/main/products\\\">\\r\\n      Отмена\\r\\n    </button>\\r\\n  </form>\\r\\n</div>\\r\\n\"","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {Product} from '../model/product.model';\r\nimport {ProductRepository} from '../model/product.repository';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {FormControl, FormGroup, NgForm, Validators} from '@angular/forms';\r\nimport {mimeType} from './mime-type.validator';\r\nimport {Subscription} from 'rxjs';\r\n\r\n\r\n@Component({\r\n  templateUrl: 'productEditor.component.html',\r\n  styleUrls: ['productEditor.component.css']\r\n})\r\nexport class ProductEditorComponent implements OnInit, OnDestroy {\r\n  public editing: boolean = false;\r\n  public product: Product;\r\n  public newCat: string;\r\n  public newSubCat: string;\r\n  public formSubmitted: boolean = false;\r\n  public catEnable = false;\r\n  public subCatEnable = false;\r\n  public form: FormGroup;\r\n  public imagePreview: string;\r\n  private subsUpdatedProduct: Subscription;\r\n\r\n  constructor(private repository: ProductRepository,\r\n              private router: Router,\r\n              private activeRoute: ActivatedRoute) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.editing = this.activeRoute.snapshot.params['mode'] == 'edit';\r\n    // this.pCategory = activeRoute.snapshot.params['parentCategory'];\r\n    this.product = new Product();\r\n    if (this.editing) {\r\n      Object.assign(this.product,\r\n        this.repository.getProduct(this.activeRoute.snapshot.params['id']));\r\n    } else {\r\n      this.product.parentCategory = 'shop';\r\n    }\r\n    this.form = new FormGroup({\r\n      'name': new FormControl(this.product.name || null, {validators: [Validators.required]}),\r\n      'parentCategory': new FormControl(this.product.parentCategory || null, {validators: [Validators.required]}),\r\n      'category': new FormControl(this.product.category || null, {validators: [Validators.required]}),\r\n      'newCategory': new FormControl({value: null, disabled: true}, {validators: [Validators.required]}),\r\n      'subcategory': new FormControl(this.product.subcategory || ''),\r\n      'newSubcategory': new FormControl({value: '', disabled: true}),\r\n      'description': new FormControl(this.product.description || null, {validators: [Validators.required]}),\r\n      'img': new FormControl(this.product.img || null, {\r\n        validators: [Validators.required], asyncValidators: [mimeType]\r\n      }),\r\n      'diameter': new FormControl(this.product.diameter || null, {validators: [Validators.pattern('[0-9\\\\.]+$')]}),\r\n      'price': new FormControl(this.product.price || null, {validators: [Validators.pattern('[0-9\\\\.]+$'), Validators.required]}),\r\n\r\n    });\r\n    this.form.get('parentCategory').valueChanges\r\n      .subscribe(changedPCat => {\r\n        this.product.parentCategory = changedPCat;\r\n        this.product.subcategory = null;\r\n        this.form.patchValue({subcategory: null});\r\n        this.product.category = null;\r\n      });\r\n    this.form.get('category').valueChanges\r\n      .subscribe(changedCat => {\r\n        this.product.category = changedCat;\r\n      });\r\n    this.form.get('subcategory').valueChanges\r\n      .subscribe(changedSCat => {\r\n        this.product.subcategory = changedSCat;\r\n      });\r\n  }\r\n\r\n  newCatCheck() {\r\n    this.catEnable = !this.catEnable;\r\n    if (this.catEnable) {\r\n      this.form.get('newCategory').enable();\r\n    } else {\r\n      this.form.get('newCategory').disable();\r\n    }\r\n  }\r\n\r\n  newSubCatCheck() {\r\n    this.subCatEnable = !this.subCatEnable;\r\n    if (this.subCatEnable) {\r\n      this.form.get('newSubcategory').enable();\r\n    } else {\r\n      this.form.get('newSubcategory').disable();\r\n    }\r\n  }\r\n\r\n  public changeProductCategory(): void {\r\n    if (this.form.value.newCategory) {\r\n      this.form.patchValue({category: this.form.value.newCategory});\r\n      this.product.category = this.form.value.newCategory;\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  public changeProductSubCategory(): void {\r\n    if (this.form.value.newSubcategory) {\r\n      this.form.patchValue({subcategory: this.form.value.newSubcategory});\r\n      this.product.subcategory = this.form.value.newSubcategory;\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  get categories(): string[] {\r\n    if (!this.product.parentCategory) {\r\n      return;\r\n    }\r\n    return this.repository.getCategories(this.product.parentCategory);\r\n  }\r\n\r\n  get parentCategory(): string[] {\r\n    return this.repository.getParentCategories();\r\n  }\r\n\r\n  get subCategories(): string[] {\r\n    if (!this.product.category) {\r\n      return;\r\n    }\r\n    return this.repository.getSubCategories(this.product.category);\r\n  }\r\n\r\n  public removeImg() {\r\n    // this.imagePreviewCollection.splice(i, 1);\r\n    this.form.patchValue({'img': null});\r\n    this.form.get('img').updateValueAndValidity();\r\n    this.imagePreview = '';\r\n  }\r\n\r\n  onImagePicked(event: Event) {\r\n    const file = (event.target as HTMLInputElement).files[0];\r\n    const reader = new FileReader();\r\n    reader.onload = () => {\r\n      // this.imagePreviewCollection.push(reader.result as string);\r\n      this.imagePreview = reader.result as string;\r\n    };\r\n    reader.readAsDataURL(file);\r\n    this.product.img = reader.result as string;\r\n    this.form.patchValue({'img': file});\r\n    this.form.get('img').updateValueAndValidity();\r\n  }\r\n\r\n  console(v) {\r\n    console.log(v);\r\n  }\r\n\r\n  save() {\r\n    this.formSubmitted = true;\r\n    if (this.form.invalid) {\r\n      return;\r\n    } else {\r\n      if (!this.editing) {\r\n        this.repository.addProduct(\r\n          this.form.value.name,\r\n          this.form.value.parentCategory,\r\n          this.form.value.category,\r\n          this.form.value.subcategory,\r\n          this.form.value.description,\r\n          this.form.value.diameter,\r\n          this.form.value.price,\r\n          this.form.value.img\r\n        );\r\n      } else {\r\n        this.repository.updateProduct(\r\n          this.product._id,\r\n          this.form.value.name,\r\n          this.form.value.parentCategory,\r\n          this.form.value.category,\r\n          this.form.value.subcategory,\r\n          this.form.value.description,\r\n          this.form.value.diameter,\r\n          this.form.value.price,\r\n          this.form.value.img\r\n        );\r\n      }\r\n      this.formSubmitted = false;\r\n      this.form.reset();\r\n      this.subsUpdatedProduct = this.repository.productsUpdated.subscribe(update => {\r\n        if (update) {\r\n          this.router.navigateByUrl('/admin/main/products');\r\n        }\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.subsUpdatedProduct) {\r\n      this.subsUpdatedProduct.unsubscribe();\r\n    }\r\n  }\r\n\r\n}\r\n","module.exports = \"button[mat-raised-button] {\\r\\n    margin-bottom: 16px;\\r\\n    width: 100%;\\r\\n    display: inline-block;\\r\\n\\r\\n}\\r\\n\\r\\nbutton.add_item_btn {\\r\\n    width: unset;\\r\\n}\\r\\n\\r\\ntable {\\r\\n    border-spacing: 0 10px;\\r\\n    font-family: Roboto, 'Open Sans', sans-serif;\\r\\n    border-radius: 3px;\\r\\n    box-shadow: 3px 3px 5px 0px rgba(0, 0, 0, 0.75);;\\r\\n}\\r\\n\\r\\nth {\\r\\n    padding: 10px 20px;\\r\\n    /*border: 2px solid #cecccc;*/\\r\\n    border: 2px solid #9a9a9a;\\r\\n    font-size: 0.9em;\\r\\n}\\r\\n\\r\\nth:first-child {\\r\\n    text-align: left;\\r\\n}\\r\\n\\r\\ntd {\\r\\n    vertical-align: middle;\\r\\n    padding: 10px;\\r\\n    font-size: 14px;\\r\\n    text-align: center;\\r\\n    border: 2px solid #9a9a9a;\\r\\n}\\r\\n\\r\\ntd:nth-child(2) {\\r\\n    text-align: left;\\r\\n}\\r\\n\\r\\n.admin__img_visual {\\r\\n    display: block;\\r\\n}\"","module.exports = \"<button class=\\\"add_item_btn\\\" mat-raised-button [routerLink]=\\\"categoryIsProduct ?  ['/admin/main/products/create'] : ['/admin/main/visuals/create']\\\">\\r\\n    Добавить новый товар\\r\\n</button>\\r\\n<table class=\\\"admin__product_table\\\">\\r\\n    <thead>\\r\\n    <tr>\\r\\n        <th>ID</th><th>Название</th><th>Род. Категория</th><th>Категория</th><th *ngIf=\\\"categoryIsProduct\\\">Подкатегория</th><th>Фото</th><th *ngIf=\\\"categoryIsProduct\\\"  >Диамтр</th><th>Описание</th><th>Цена</th>\\r\\n        <th></th>\\r\\n    </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n    <tr *ngFor=\\\"let p of getProducts()\\\">\\r\\n        <td>{{p._id}}</td>\\r\\n        <td>{{p.name}}</td>\\r\\n        <td>{{p.parentCategory}}</td>\\r\\n        <td>{{p.category}}</td>\\r\\n        <td *ngIf=\\\"categoryIsProduct\\\">{{p.subcategory || ' '}}</td>\\r\\n        <td *ngIf=\\\"categoryIsProduct\\\">{{p.img}}</td>\\r\\n        <td *ngIf=\\\"!categoryIsProduct\\\"><span class=\\\"admin__img_visual\\\" *ngFor=\\\"let i of p.img\\\">{{i}};</span></td>\\r\\n        <td *ngIf=\\\"categoryIsProduct\\\">{{p.diameter || ' '}}</td>\\r\\n        <td>{{p.description}}</td>\\r\\n        <td>{{p.price}}</td>\\r\\n        <td>\\r\\n            <button\\r\\n                    mat-raised-button color=\\\"primary\\\"\\r\\n                    [routerLink]=\\\"categoryIsProduct ? ['/admin/main/products/edit', p._id, {parentCategory: p.parentCategory}] : ['/admin/main/visuals/edit', p._id, {parentCategory: p.parentCategory}]\\\">\\r\\n                Редактировать\\r\\n            </button>\\r\\n            <button mat-raised-button color=\\\"warn\\\"\\r\\n                    (click)=\\\"deleteProduct(p._id)\\\">\\r\\n                Удалить\\r\\n            </button>\\r\\n        </td>\\r\\n    </tr>\\r\\n    </tbody>\\r\\n</table>\\r\\n\"","import {Component, OnInit} from '@angular/core';\r\nimport {ProductRepository} from '../model/product.repository';\r\nimport {Product} from '../model/product.model';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {RestDataSource} from '../model/rest.datasource';\r\nimport {Observable} from 'rxjs';\r\n\r\n@Component({\r\n    templateUrl: 'productTable.component.html',\r\n    styleUrls: ['./productTable.component.css']\r\n})\r\nexport class ProductTableComponent implements OnInit {\r\n    public parentCategory: string = undefined;\r\n    public categoryIsProduct: boolean;\r\n\r\n    constructor(private router: Router, private repository: ProductRepository, private _activeRoute: ActivatedRoute) {\r\n        this.parentCategory = _activeRoute.snapshot.url[0].path;\r\n    }\r\n\r\n    getProducts(): any[] {\r\n        if (!this.categoryIsProduct) {\r\n            return this.repository.getVisuals();\r\n        } else {\r\n            return this.repository.getProducts();\r\n\r\n        }\r\n    }\r\n\r\n    deleteProduct(id: number) {\r\n        if (!this.categoryIsProduct) {\r\n            this.repository.deleteVisual(id);\r\n        } else if (this.categoryIsProduct) {\r\n            this.repository.deleteProduct(id);\r\n        } else {\r\n            this.router.navigateByUrl('/admin/');\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.categoryIsProduct = this.parentCategory == 'products';\r\n    }\r\n}\r\n\r\n","module.exports = \"\"","module.exports = \"<div [class.bg-warning]=\\\"editing\\\"\\r\\n     [class.text-dark]=\\\"editing\\\">\\r\\n    <h5>{{editing ? \\\"Редактировать: \\\" + product.name : \\\"Добавить Товар\\\"}}</h5>\\r\\n</div>\\r\\n<form [formGroup]=\\\"form\\\" novalidate (ngSubmit)=\\\"save()\\\" enctype=\\\"multipart/form-data\\\">\\r\\n    <div class=\\\"form-group\\\">\\r\\n        <label>Название: </label>\\r\\n        <input class=\\\"form-control\\\" formControlName=\\\"name\\\"\\r\\n               [class.formSub_edit]=\\\"formSubmitted\\\"\\r\\n        />\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"!editing\\\">\\r\\n        <label>создайте категорию:</label>\\r\\n        <input class=\\\"form-control\\\" formControlName=\\\"category\\\"\\r\\n               [class.formSub_edit]=\\\"formSubmitted\\\"\\r\\n        />\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n        <label>Описание:</label>\\r\\n        <textarea class=\\\"form-control\\\" formControlName=\\\"description\\\"\\r\\n                  [class.formSub_edit]=\\\"formSubmitted\\\"\\r\\n        >\\r\\n</textarea>\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"label_img_add\\\">{{editing ? \\\"Выберите новые изображения\\\" : \\\"Добавьте изображения\\\"}}:</label>\\r\\n        <button mat-stroked-button type=\\\"button\\\" (click)=\\\"filePicker.click()\\\">Выберите изображение</button>\\r\\n        <input type=\\\"file\\\" #filePicker (change)=\\\"onImagePicked($event)\\\" multiple>\\r\\n        <div *ngIf=\\\"imagePreviewCollection.length > 0;\\\">\\r\\n        <div class=\\\"image-preview\\\" *ngFor=\\\"let image of imagePreviewCollection, index as i\\\">\\r\\n        <img [src]=\\\"image\\\" [alt]=\\\"form.value.name\\\">\\r\\n        <i class=\\\"fa fa-remove visual_img__remove\\\"\\r\\n        style=\\\"font-size:24px;color:red\\\"\\r\\n        (click)=\\\"removeImg(i)\\\"></i>\\r\\n        </div>\\r\\n        </div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n        <label>Цена:</label>\\r\\n        <input class=\\\"form-control\\\" formControlName=\\\"price\\\"\\r\\n               [class.formSub_edit]=\\\"formSubmitted\\\"\\r\\n        />\\r\\n    </div>\\r\\n    <button\\r\\n            class=\\\"auth__button_edit\\\" type=\\\"submit\\\"\\r\\n            [disabled]=\\\"formSubmitted && form.invalid\\\"\\r\\n            [class.blocked]=\\\"formSubmitted && form.invalid\\\"\\r\\n    >\\r\\n        {{editing ? \\\"Сохранить\\\" : \\\"Создать\\\"}}\\r\\n    </button>\\r\\n    <button\\r\\n            class=\\\"auth__button_edit\\\"\\r\\n            type=\\\"reset\\\" routerLink=\\\"/admin/main/visuals\\\"\\r\\n    >\\r\\n        Отмена\\r\\n    </button>\\r\\n</form>\"","import {Component, OnInit} from '@angular/core';\r\nimport {Visual} from '../model/product.model';\r\nimport {ProductRepository} from '../model/product.repository';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {FormArray, FormBuilder, FormControl, FormGroup, NgForm, Validators} from '@angular/forms';\r\nimport {mimeType} from './mime-type.validator';\r\nimport {projectionDef} from '@angular/core/src/render3/instructions';\r\n\r\n@Component({\r\n    templateUrl: 'visualEditor.component.html',\r\n    styleUrls: ['visualEditor.component.css']\r\n})\r\nexport class VisualEditorComponent implements OnInit {\r\n    public editing: boolean = false;\r\n    public product: Visual;\r\n    public newCategory: string;\r\n    public formSubmitted: boolean = false;\r\n    public form: FormGroup;\r\n    public imagePreviewCollection = new Array<string>();\r\n\r\n\r\n    constructor(private repository: ProductRepository,\r\n                private router: Router,\r\n                private activeRoute: ActivatedRoute,\r\n                private fb: FormBuilder) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.editing = this.activeRoute.snapshot.params['mode'] == 'edit';\r\n        this.product = new Visual();\r\n        if (this.editing) {\r\n            Object.assign(this.product, this.repository.getVisual(this.activeRoute.snapshot.params['id']));\r\n        } else {\r\n            this.product.parentCategory = 'oformlenie';\r\n        }\r\n        this.form = this.fb.group({\r\n            'name': [this.product.name || null, [Validators.required]],\r\n            'parentCategory': [this.product.parentCategory || null, [Validators.required]],\r\n            'category': [this.product.category || null, [Validators.required]],\r\n            'description': [this.product.description || null, [Validators.required]],\r\n            'price': [this.product.price || null, [Validators.pattern('[0-9\\\\.]+$'), Validators.required]],\r\n            'img': this.fb.array([], [Validators.required])\r\n        });\r\n        const imagesForm = <FormArray>this.form.controls['img'];\r\n        if (this.product.img && this.product.img.length > 0) {\r\n            for (const image of this.product.img) {\r\n                imagesForm.push(this.fb.control(image));\r\n            }\r\n        }\r\n    }\r\n\r\n    onImagePicked(event: Event) {\r\n        const imagesForm = <FormArray>this.form.controls['img'];\r\n        this.imagePreviewCollection = [];\r\n        const fileList = (event.target as HTMLInputElement).files;\r\n        while (imagesForm.length !== 0) {\r\n            imagesForm.removeAt(0);\r\n        }\r\n        for (let i = 0; i < fileList.length; i++) {\r\n            {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(fileList[i]);\r\n                reader.onload = () => {\r\n                    this.imagePreviewCollection.push(reader.result as string);\r\n                };\r\n            }\r\n            imagesForm.push(this.fb.control(fileList[i]));\r\n            this.form.get('img').updateValueAndValidity();\r\n        }\r\n    }\r\n\r\n    removeImg(i) {\r\n        const imagesForm = <FormArray>this.form.controls['img'];\r\n        this.imagePreviewCollection.splice(i, 1);\r\n        imagesForm.removeAt(i);\r\n    }\r\n\r\n    save() {\r\n        this.formSubmitted = true;\r\n        if (this.form.invalid) {\r\n            return;\r\n        } else {\r\n            if (!this.editing) {\r\n                this.repository.addVisual(\r\n                    this.form.value.name,\r\n                    this.form.value.parentCategory,\r\n                    this.form.value.category,\r\n                    this.form.value.description,\r\n                    this.form.value.price,\r\n                    this.form.controls['img'].value\r\n                );\r\n                console.log(this.form.controls['img'].value);\r\n            } else {\r\n                this.repository.updateVisual(\r\n                    this.product._id,\r\n                    this.form.value.name,\r\n                    this.form.value.parentCategory,\r\n                    this.form.value.category,\r\n                    this.form.value.description,\r\n                    this.form.value.price,\r\n                    this.form.controls['img'].value\r\n                );\r\n            }\r\n            this.formSubmitted = false;\r\n            this.form.reset();\r\n            this.router.navigateByUrl('/admin/main/visuals');\r\n        }\r\n    }\r\n}\r\n","export class Product {\r\n    constructor(\r\n        public _id?: string,\r\n        public name?: string,\r\n        public parentCategory?: string,\r\n        public category?: string,\r\n        public subcategory?: string,\r\n        public diameter?: string,\r\n        public img?: string,\r\n        public description?: string,\r\n        public price?: string,\r\n        public create_ts?: string) {\r\n    }\r\n}\r\nexport class Visual {\r\n    constructor(\r\n        public _id?: string,\r\n        public name?: string,\r\n        public parentCategory?: string,\r\n        public category?: string,\r\n        public img?: string[],\r\n        public description?: string,\r\n        public price?: string,\r\n        public create_ts?: string) {\r\n    }\r\n}\r\n\r\n"],"sourceRoot":""}