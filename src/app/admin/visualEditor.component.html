<div [class.bg-warning]="editing"
     [class.text-dark]="editing">
    <h5>{{editing ? "Редактировать: " + product.name : "Добавить Товар"}}</h5>
</div>
<form novalidate #form="ngForm" (ngSubmit)="save(form)">
    <div class="form-group">
        <label>Название: </label>
        <input class="form-control" name="name" [(ngModel)]="product.name"
               [class.formSub_edit]="formSubmitted"
               required
        />
    </div>
    <div class="form-group" *ngIf="!editing">
        <label>создайте категорию:</label>
        <input class="form-control" #newCatSelector name="category"
               [(ngModel)]="product.category"
               [class.formSub_edit]="formSubmitted"
               required
        />
    </div>
    <div class="form-group">
        <label>Описание:</label>
        <textarea class="form-control" name="description"
                  [(ngModel)]="product.description"
                  [class.formSub_edit]="formSubmitted"
                  required
        >
</textarea>
    </div>
    <div class="form-group">
        <div *ngFor="let img of product.img;trackBy:trackByIndex; let index = index;">
            <label>Изображение (в формате: photo.jpg):</label>
            <input class="form-control" name="{{'img' + index}}"
                   [(ngModel)]="product.img[index]"/>
            <i class="fa fa-remove visual_img__remove"
               style="font-size:24px;color:red"
               (click)="removeImg(index)">

            </i>
        </div>
        <a class="auth__button_edit" (click)="newImageAdd()">Добавить новое изображение (в формате: photo.jpg):</a>
    </div>
    <div class="form-group">
        <label>Цена:</label>
        <input class="form-control" name="price" [(ngModel)]="product.price"
               required
               pattern="^[0-9\.]+$"
               [class.formSub_edit]="formSubmitted"
        />
    </div>
    <button class="auth__button_edit" type="submit"
            [disabled]="formSubmitted && form.invalid"
            [class.blocked]="formSubmitted && form.invalid"
    >
        {{editing ? "Сохранить" : "Создать"}}

    </button>
    <button class="auth__button_edit" type="reset" routerLink="/admin/main/visuals">
        Отмена
    </button>
</form>